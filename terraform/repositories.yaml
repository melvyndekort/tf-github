repositories:
  assets:
    type: public
    description: "This repository contains my static resources site"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_assets_role_arn
      - name: CLOUDFLARE_ACCOUNT_ID
        value_ref: cloudflare_account_id
      - name: CLOUDFLARE_API_TOKEN
        value_ref: tf_cloudflare.api_token_assets

  aws-ntfy-alerts:
    type: public
    description: "AWS alerting system that forwards SNS notifications to ntfy"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_aws_ntfy_alerts_role_arn

  cheatsheets:
    type: public
    description: "Documentation used in my custom Arch setup"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_cheatsheets_role_arn
      - name: CLOUDFLARE_ACCOUNT_ID
        value_ref: cloudflare_account_id
      - name: CLOUDFLARE_API_TOKEN
        value_ref: tf_cloudflare.api_token_cheatsheets

  homelab:
    type: private
    description: "Docker compose stack to run all lmserver software"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_homelab_role_arn
      - name: CLOUDFLARE_CLIENT_ID
        value_ref: tf_cloudflare.github_actions_client_id
      - name: CLOUDFLARE_CLIENT_SECRET
        value_ref: tf_cloudflare.github_actions_client_secret
    deploy_keys:
      - title: secrets-sync
        key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIGg4ZosYsBzCrE5YfmsJh+DSozK8ilfF/Q8YNSB7h+GZ homelab-secrets-sync
        read_only: true

  dotfiles:
    type: public
    description: "This repository contains all the important dotfiles in my Linux home directory based on the chezmoi dotfile manager."

  email-infra:
    type: public
    description: "Email infrastructure with DMARC collection and DNS management"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_email_infra_role_arn

  dracula-hugo-theme:
    type: public
    description: "My Dracula theme for Hugo static site generator"

  "example.melvyn.dev":
    type: public
    description: "Example static website"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_example_melvyn_dev_role_arn

  get-cookies:
    type: public
    description: "A serverless authentication solution which converts JWT tokens to AWS Cloudfront signed cookies"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_get_cookies_role_arn

  ignition:
    type: public
    description: "This repository contains my ignition files for Fedora CoreOS"
    allowed_actions_config: []
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_ignition_role_arn
      - name: CLOUDFLARE_ACCOUNT_ID
        value_ref: cloudflare_account_id
      - name: CLOUDFLARE_API_TOKEN
        value_ref: tf_cloudflare.api_token_ignition

  image-refresher:
    type: public
    description: "Docker container which updates specified docker images on the local system"



  "melvyndekort.github.io":
    type: custom
    description: "My personal blog"
    visibility: public
    has_issues: false
    pages:
      branch: gh-pages
    default_branch: gh-pages

  melvyn-dev:
    type: public
    description: "Public website"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_melvyn_dev_role_arn
      - name: CLOUDFLARE_ACCOUNT_ID
        value_ref: cloudflare_account_id
      - name: CLOUDFLARE_API_TOKEN
        value_ref: tf_cloudflare.api_token_melvyn_dev

  mta-sts:
    type: public
    description: "This repository contains my MTA-STS configuration"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_mta_sts_role_arn
      - name: CLOUDFLARE_ACCOUNT_ID
        value_ref: cloudflare_account_id
      - name: CLOUDFLARE_API_TOKEN
        value_ref: tf_cloudflare.api_token_mta_sts

  network-documentation:
    type: private
    description: "Complete documentation of home network infrastructure"

  password-store:
    type: private
    description: "Password management should be simple and follow Unix philosophy"

  internal-dns:
    type: private
    description: "Single source of truth for internal DNS entries across all PiHole servers"
    deploy_keys:
      - title: "lmserver"
        key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIFMfp3WyB9WIYB3ojtZ4DfZw7naRyjRWmfLDx+pkNTQo lmserver-deploy-key"
        read_only: true

  internal-dns-sync:
    type: public
    description: "Container image for syncing internal DNS entries to PiHole servers"

  router-events:
    type: public
    description: "Process events sent by a router"

  scheduler:
    type: public
    description: "Run scheduled jobs in Docker and trigger them manually via a web interface"

  startpage:
    type: private
    description: "Public website"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_startpage_role_arn
      - name: CLOUDFLARE_ACCOUNT_ID
        value_ref: cloudflare_account_id
      - name: CLOUDFLARE_API_TOKEN
        value_ref: tf_cloudflare.api_token_startpage

  systemsetup:
    type: private
    description: "My custom system setup using Ansible"

  tf-aws:
    type: public
    description: "Manage centralized AWS resources using Terraform"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_tf_aws_role_arn

  tf-cloudflare:
    type: public
    description: "Centrally manage cloudflare configuration"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_tf_cloudflare_role_arn

  tf-grafana:
    type: public
    description: "Terraform configuration for managing Grafana Cloud infrastructure"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_tf_grafana_role_arn

  tf-github:
    type: public
    description: "Centrally manage github configuration"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_tf_github_role_arn

  tf-backup:
    type: public
    description: "Terraform configuration for managing backup infrastructure"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_tf_backup_role_arn

  tf-cloudtrail:
    type: public
    description: "Terraform configuration for AWS CloudTrail setup"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_tf_cloudtrail_role_arn

  tf-cognito:
    type: public
    description: "Terraform configuration for AWS Cognito authentication"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_tf_cognito_role_arn

  minecraft-server:
    type: public
    description: "A Minecraft server on AWS ECS"
    secrets:
      - name: AWS_ROLE_ARN
        value_ref: github_actions_minecraft_server_role_arn
